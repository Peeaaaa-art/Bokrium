<turbo-frame id="books_frame">

  <%= render Books::GridComponent.new(
        books: @books,
        books_per_shelf: @books_per_shelf,
        current_chunk_index: 0
      ) %>

  <% if @pagy&.next %>
    <turbo-frame
      id="next_books"
      src="<%= helpers.books_path(view: @view_mode, page: @pagy.next) %>"
      loading="lazy"
    >
      <%= render partial: "shared/loading_spinner" %>
    </turbo-frame>
  <% end %>
</turbo-frame>