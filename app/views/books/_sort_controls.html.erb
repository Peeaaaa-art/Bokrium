<!-- ソートトグルボタン -->
<div data-controller="ui-toggle">
  <button class="btn btn-sm" type="button" data-action="click->ui-toggle#toggle">
    <i class="bi bi-filter fs-4"></i>
  </button>

  <!-- ソートリンク群 -->
  <div class="mt-2" data-ui-toggle-target="content" hidden>
    <div class="btn-group" role="group" aria-label="Sort options">
      <%= link_to "新しい順", books_path(tag: filtered_tag, sort: nil),
            class: "btn btn-outline-secondary btn-sm #{'active' if current_sort.blank?}" %>
      <%= link_to "古い順", books_path(tag: filtered_tag, sort: "oldest"),
            class: "btn btn-outline-secondary btn-sm #{'active' if current_sort == 'oldest'}" %>
      <%= link_to "タイトル順", books_path(tag: filtered_tag, sort: "title_asc"),
            class: "btn btn-outline-secondary btn-sm #{'active' if current_sort == 'title_asc'}" %>
      <%= link_to "著者順", books_path(tag: filtered_tag, sort: "author_asc"),
            class: "btn btn-outline-secondary btn-sm #{'active' if current_sort == 'author_asc'}" %>
      <%= link_to "メモ更新順", books_path(tag: filtered_tag, sort: "latest_memo"),
            class: "btn btn-outline-secondary btn-sm #{'active' if current_sort == 'latest_memo'}" %>
    </div>
  </div>
</div>