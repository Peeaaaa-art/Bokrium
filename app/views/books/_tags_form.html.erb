<div class="mt-3 mb-2">
  <i class="bi bi-tags"></i>
  <% @book.tags.each do |tag| %>
    <span class="badge rounded-pill bg-info text-dark me-1" style="font-size:1em;"><%= tag.name %></span>
  <% end %>
  <button type="button" class="btn btn-sm btn-outline-info ms-2" data-bs-toggle="collapse" data-bs-target="#tagForm">
    <i class="bi bi-plus"></i> タグ
  </button>
  <!-- タグ追加フォーム（折りたたみ） -->
  <div class="collapse mt-2" id="tagForm">
    <div class="input-group">
      <%= form_with(model: @book, local: true, html: { class: "w-100" }) do |f| %>
        <%= text_field_tag :tags, @book.tags.map(&:name).join(','), class: "form-control", placeholder: "小説,哲学" %>
        <%= f.submit "保存", class: "btn btn-success" %>
      <% end %>
    </div>
    <small class="form-text text-muted">カンマ区切りで入力（例: 小説,哲学）</small>
  </div>
</div>