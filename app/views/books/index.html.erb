<% if @not_logged_in %>
  <div class="alert alert-info text-center">
    こちらはサンプル表示です。自分の本棚を作成するには、ログイン・アカウント登録が必要です。
  </div>
<% end %>
<% if @no_books %>
  <div class="alert alert-info text-center">
    <p>こちらはサンプル表示です。最初の本を登録しましょう！</p>
    <div class="mt-3">
      <%= link_to "新規書籍登録", search_books_path, class: "btn btn-primary" %>
    </div>
  </div>
<% end %>

<% if current_user && !@no_books %>
  <div class="books-grid">
    <% @books.each do |book| %>
      <div>
        <%= link_to book_path(book) do %>
          <% if book.book_cover_s3.attached? %>
            <%= image_tag book.book_cover_s3.variant(resize_to_limit: [200, 300]), alt: book.title, class: "book-cover img-fluid" %>
          <% elsif book.book_cover.present? %>
            <img src="<%= book.book_cover %>" alt="表紙画像" class="book-cover" >
          <% else %>
            <div class="no-cover book-cover"><%= book.title %></div>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>


<% if @no_books || @not_logged_in %>
  <div class="books-grid">
    <% @books.each do |book| %>
      <div class="book-cover">
        <%= image_tag asset_path(book.title), alt: book.title, class: "img-fluid" %>
      </div>
    <% end %>
  </div>
<% end %>


<% if @not_logged_in %>
  <div class="registration-cta text-center mt-5 text-dark fw-bold  big-shoulders-inline-bold">
    <h4>あなたの読書体験をもっと豊かに</h4>
    <p>Bokriumで読書メモを管理し、知識を整理しましょう</p>
    <%= link_to "今すぐ始める（無料登録）", new_user_registration_path, class: "btn btn-lg btn-success mt-2 mb-5" %>
  </div>
<% end %>