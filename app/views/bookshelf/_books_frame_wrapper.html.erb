<turbo-frame id="books_frame">
  <% case view_mode %>
  <% when "shelf" %>
    <%= render Books::KinoSelectNumbersComponent.new(
          view_key: "shelf",
          selected: books_per_shelf,
          mobile: mobile?
        ) %>
    <%= render Books::KinoGridComponent.new(books: books, books_per_shelf: books_per_shelf, pagy: pagy) %>

  <% when "spine" %>
    <%= render Books::KinoSelectNumbersComponent.new(
          view_key: "spine",
          selected: spine_per_shelf,
          mobile: mobile?
        ) %>
    <%= render Books::SpineGridComponent.new(books: books, spine_per_shelf: spine_per_shelf, pagy: pagy) %>

  <% when "card" %>
    <%= render Books::ColumnSelectorComponent.new(
          view_key: "card",
          selected: @card_columns,
          controller_name: "column-selector",
          mobile: mobile?
        ) %>
    <%= render Books::CardGridComponent.new(books: books, card_columns: card_columns, pagy: pagy) %>

  <% when "detail_card" %>
    <%= render Books::ColumnSelectorComponent.new(
          view_key: "detail_card",
          selected: @detail_card_columns,
          controller_name: "detail-card-column-selector",
          mobile: mobile?
        ) %>
    <%= render Books::DetailCardComponent.new(books: books, pagy: pagy, detail_card_columns: detail_card_columns) %>

  <% when "b_note" %>
    <%= render Books::BNoteComponent.new(books: books, pagy: pagy) %>
  <% end %>
</turbo-frame>

