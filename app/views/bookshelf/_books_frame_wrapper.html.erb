<turbo-frame id="books_frame">
  <% if view_mode == "shelf" %>
    <%= render "bookshelf/kino_select_numbers", books_per_shelf: books_per_shelf %>
    <%= render "bookshelf/kino_books_grid",
            books: books,
            books_per_shelf: books_per_shelf,
            pagy: pagy,
            current_chunk_index: pagy.page %>
  <% end %>

  <% if view_mode == "card" %>
    <%= render "bookshelf/simple_card", books: books, card_columns: card_columns, pagy: pagy %>
  <% end %>

  <% if view_mode == "detail_card" %>
    <%= render "bookshelf/detail_card", books: books, pagy: pagy, detail_card_columns: @detail_card_columns %>
  <% end %>
</turbo-frame>