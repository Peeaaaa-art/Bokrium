<turbo-frame id="books_frame">
  <% case view_mode %>
  <% when "shelf" %>
    <%= render "bookshelf/kino_select_numbers", books_per_shelf: books_per_shelf %>
    <%= render "bookshelf/kino_books_grid",
                books: books,
                books_per_shelf: books_per_shelf,
                pagy: pagy,
                current_chunk_index: pagy.page %>

  <% when "card" %>
    <%= render "bookshelf/simple_card", books: books, card_columns: card_columns, pagy: pagy %>

  <% when "detail_card" %>
    <%= render "bookshelf/detail_card", books: books, pagy: pagy, detail_card_columns: @detail_card_columns %>

  <% when "b_note" %>
    <%= render "bookshelf/b_note", books: books, pagy: pagy %>

  <% when "spine" %>
    <%= render "bookshelf/spine", books: books, pagy: pagy, spine_per_shelf: spine_per_shelf %>
  <% end %>
</turbo-frame>