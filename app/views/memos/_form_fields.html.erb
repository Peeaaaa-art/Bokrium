<div class="mb-4">
  <%= f.hidden_field :content, id: "memo_content_input" %>

  <% if editable %>
    <!-- 編集モード: TipTap を使ったエディタ -->
    <div
      id="rich-editor-root"
      data-initial-content="<%= j memo_text(memo) %>"
      class="form-control rhodia-grid-bg"
      style="min-height: 9em;"
    ></div>
  <% else %>
    <!-- 表示モード: HTMLをそのまま表示 -->
    <div class="form-control rhodia-grid-bg memo-content" style="min-height: 9em;">
      <%= @memo.content&.html_safe.presence || "（内容はまだありません）" %>
    </div>
  <% end %>
</div>

<div class="d-flex justify-content-end gap-3">
  <div class="form-check form-switch mt-2">
    <%= f.check_box :published,
          {
            class: "form-check-input",
            checked: memo.you_can_see?,
            role: "switch"
          },
          "you_can_see",
          "only_i_can_see" %>
    <%= f.label :published, "公開する", class: "form-check-label" %>
  </div>

  <%= button_tag type: "submit", class: "btn btn-outline-primary me-2" do %>
    <i class="bi bi-arrow-clockwise"></i> 更新
  <% end %>
</div>