<% content_for :title, "パスキー設定 - Bokrium" %>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-sm">
        <div class="card-body text-center p-5">
          <div class="mb-4">
            <i class="bi bi-shield-check" style="font-size: 4rem; color: #28a745;"></i>
          </div>

          <h2 class="fw-bold mb-3">最後にパスキーを設定しましょう</h2>

          <p class="text-muted mb-4">
            パスキーを設定すると、次回から<strong>パスワード不要</strong>で、<br>
            <strong>顔認証（Face ID）</strong>や<strong>指紋認証（Touch ID）</strong>だけで<br>
            ログインできるようになります。
          </p>

          <div class="alert alert-info text-start mb-4">
            <h6 class="alert-heading">✨ パスキーのメリット</h6>
            <ul class="mb-0 small">
              <li>パスワードを覚える必要なし</li>
              <li>フィッシング詐欺に強い</li>
              <li>わずか数秒でログイン</li>
              <li>デバイス固有で安全性が高い</li>
            </ul>
          </div>

          <div class="d-grid gap-3">
            <button type="button"
                    class="btn btn-primary-bok btn-lg"
                    data-controller="webauthn-registration"
                    data-action="click->webauthn-registration#register"
                    data-webauthn-registration-redirect-url-value="<%= complete_passkey_setup_path %>">
              🔑 パスキーを設定する
            </button>

            <%= link_to skip_passkey_setup_path,
                        class: "btn btn-outline-secondary",
                        data: { turbo_method: :post } do %>
              後で設定する
            <% end %>
          </div>

          <p class="mt-4 mb-0 small text-muted">
            ※ 対応デバイス: iPhone、Mac、Android、Windows Hello
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
