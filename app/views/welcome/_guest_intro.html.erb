<div class="container text-center py-3" data-controller="animation">
  <h1 class="my-2 logo-welcome big-shoulders-inline-bold"><span title="ボクリウム">Bokrium</span></h1>
  <p class="lead text-muted">
    「読んだだけ」で終わらせない。<br>
      読書の記憶を育てる本棚アプリ
  </p>
  <div class="fade-in delay-2 mb-5 text-center mx-auto" style="max-width: 600px;">
    <%= image_tag cdn_path("bokrium_welcome-768w.webp"),
        srcset: {
          cdn_path("bokrium_welcome-320w.webp") => "320w",
          cdn_path("bokrium_welcome-480w.webp") => "480w",
          cdn_path("bokrium_welcome-768w.webp") => "768w",
          cdn_path("bokrium_welcome-986w.webp") => "986w"
        },
        sizes: "(max-width: 480px) 80vw, (max-width: 768px) 60vw, 600px",
        class: "img-fluid",
        style: "max-width: 80%; height: auto;",
        alt: "Bokriumようこそ画像"
    %>
  </div>

  <ul class="list-unstyled mb-5 row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 justify-content-center text-center" data-controller="animation">
    <% features = [
      { icon: "journal-richtext", title: "読書メモや画像を整理・保存", desc: "本ごとに感想や学びを記録し、いつでも振り返りが可能です。" },
      { icon: "upc-scan",         title: "ISBNバーコードスキャンで簡単登録", desc: "書籍情報をすばやく電子本棚に追加できます。" },
      { icon: "collection",       title: "重複購入を防ぎ、蔵書を一目で把握", desc: "同じ本を何度も買ってしまう心配がなくなります。" },
      { icon: "shuffle",          title: "過去のメモをランダム表示", desc: "忘れかけていた知識や気づきを日常に活かせます。" },
      { icon: "people",           title: "読書メモの共有機能", desc: "他のユーザーの視点や知識に触れ、新たな発見を得られます。" }
    ] %>

    <% features.each_with_index do |feature, i| %>
      <li class="slide-in delay-<%= i + 1 %> col">
        <div class="p-4 h-100 d-flex flex-column align-items-center justify-content-start bg-beige shadow-sm rounded-4">
          <div class="mb-3 fs-1 text-success">
            <%= bi_icon(feature[:icon], css: "is-1") %>
          </div>
          <div class="fw-bold text-primary-bok mb-2 fs-5">
            <%= feature[:title] %>
          </div>
          <div class="text-muted small px-2">
            <%= feature[:desc] %>
          </div>
        </div>
      </li>
    <% end %>
  </ul>

  <div class="registration-cta text-center mt-8 big-shoulders-inline-bold" data-controller="animation">
    <h3 class="fade-in delay-1 mb-3">あなたの読書体験をもっと豊かに</h3>
    <h5 class="fade-in delay-2 text-muted">Bokriumで読書メモを管理し、知識を整理しましょう</h5>
    <div class="fade-in delay-3">
        <%= link_to new_user_registration_path, class: "btn btn-success btn-lg mt-4  shadow-sm px-4 py-2 fs-5 rounded-pill" do %>
          今すぐはじめる<br class="d-sm-none">（あなたの本棚をつくる）
        <% end %>
    </div>
    <p class="text-center fade-in delay-4 mt-5">↓↓↓ とりあえず試してみる</p>
    <div class="d-flex flex-wrap justify-content-center align-items-center gap-3 my-4" data-controller="animation">
      <% buttons = [
        { path: search_books_path,  icon: "search",       text: "本を探す",       class: "btn-outline-primary" },
        { path: guest_books_path,   icon: "library-big",  text: "本棚を見る",     class: "btn-outline-success" },
        { path: public_bookshelf_index_path, icon: "users", text: "みんなのメモ", class: "btn-outline-danger" }
      ] %>

      <% buttons.each_with_index do |btn, i| %>
        <% classes = "slide-in delay-#{i + 3} btn btn-sm #{btn[:class]} d-flex align-items-center gap-2 fs-6 px-3 py-2 rounded-pill shadow-sm hover-scale" %>
        <%= link_to btn[:path], class: classes do %>
          <%= bi_icon(btn[:icon], css: "is-5") %>
          <%= btn[:text] %>
        <% end %>
      <% end %>
    </div>
  </div>

